# –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ RFIDShkafWithIRBIS

## üìã –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–í—Å–µ–≥–æ —Ñ–∞–π–ª–æ–≤ C#:** 14 (–±–µ–∑ obj/bin)
- **–û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥:** ~5000 —Å—Ç—Ä–æ–∫
- **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:** .NET Framework 4.8, x86
- **–¢–∏–ø –ø—Ä–æ–µ–∫—Ç–∞:** Windows Forms –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

## üî¥ –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–¥ (–∫ —É–¥–∞–ª–µ–Ω–∏—é)

### 1. –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ MainForm.cs

#### ‚ùå `_currentBookMfn`, `_currentBookBrief`, `_currentBookInv` (—Å—Ç—Ä–æ–∫–∏ 227-229)
```csharp
private int _currentBookMfn;
private string _currentBookBrief;
private string _currentBookInv;
```
**–°—Ç–∞—Ç—É—Å:** –û–±—ä—è–≤–ª–µ–Ω—ã, –Ω–æ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è  
**–ü—Ä–∏—á–∏–Ω–∞:** –í–µ—Ä–æ—è—Ç–Ω–æ, –æ—Å—Ç–∞–ª–∏—Å—å –æ—Ç —Å—Ç–∞—Ä–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –£–¥–∞–ª–∏—Ç—å

#### ‚ùå `USE_EMULATOR` (—Å—Ç—Ä–æ–∫–∞ 162)
```csharp
private static readonly bool USE_EMULATOR = bool.TryParse(ConfigurationManager.AppSettings["UseEmulator"], out _emu) && _emu;
```
**–°—Ç–∞—Ç—É—Å:** –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∞, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è  
**–ü—Ä–∏—á–∏–Ω–∞:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ `DEMO_UI`, –∫–æ—Ç–æ—Ä—ã–π —á–∏—Ç–∞–µ—Ç —Ç–æ—Ç –∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –£–¥–∞–ª–∏—Ç—å (–¥—É–±–ª–∏–∫–∞—Ç `DEMO_UI`)

#### ‚ö†Ô∏è `_lastRruEpc` (—Å—Ç—Ä–æ–∫–∞ 200)
```csharp
private string _lastRruEpc = null;
```
**–°—Ç–∞—Ç—É—Å:** –ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ, –Ω–æ –Ω–µ —á–∏—Ç–∞–µ—Ç—Å—è  
**–ü—Ä–∏—á–∏–Ω–∞:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –∑–∞–ø–∏—Å–∏ –≤ –ª–æ–≥  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å, –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–µ–Ω –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### 2. –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–µ—Ç–æ–¥—ã –≤ IrbisServiceManaged.cs

#### ‚ùå `ValidateReaderByTicketNumber()` (—Å—Ç—Ä–æ–∫–∞ 312)
```csharp
public bool ValidateReaderByTicketNumber(string value)
```
**–°—Ç–∞—Ç—É—Å:** –ü—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥, –Ω–æ –Ω–∏–≥–¥–µ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è  
**–ü—Ä–∏—á–∏–Ω–∞:** –í–µ—Ä–æ—è—Ç–Ω–æ, –∑–∞–ø–∞—Å–Ω–æ–π –º–µ—Ç–æ–¥ –¥–ª—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –£–¥–∞–ª–∏—Ç—å –∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –±—É–¥—É—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### ‚ùå `FindOneByInvOrTag()` (—Å—Ç—Ä–æ–∫–∞ 416)
```csharp
public MarcRecord FindOneByInvOrTag(string value)
```
**–°—Ç–∞—Ç—É—Å:** –ü—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥, –Ω–æ –Ω–∏–≥–¥–µ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è  
**–ü—Ä–∏—á–∏–Ω–∞:** –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ `FindOneByBookRfid`  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –£–¥–∞–ª–∏—Ç—å –∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –±—É–¥—É—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### ‚ö†Ô∏è `TestConnection()` (—Å—Ç—Ä–æ–∫–∞ 253)
```csharp
public bool TestConnection(out string error)
```
**–°—Ç–∞—Ç—É—Å:** –ü—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥, –Ω–æ –Ω–∏–≥–¥–µ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è  
**–ü—Ä–∏—á–∏–Ω–∞:** –ü–æ–ª–µ–∑–µ–Ω –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å

### 3. –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ Logger

#### ‚ùå `Logger.Dir` (—Å—Ç—Ä–æ–∫–∞ 130)
```csharp
public static string Dir => _dir;
```
**–°—Ç–∞—Ç—É—Å:** –°–≤–æ–π—Å—Ç–≤–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –£–¥–∞–ª–∏—Ç—å

#### ‚ùå `Logger.PathFor()` (—Å—Ç—Ä–æ–∫–∞ 132)
```csharp
public static string PathFor(string fileName) => Path.Combine(_dir, fileName);
```
**–°—Ç–∞—Ç—É—Å:** –ú–µ—Ç–æ–¥ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –£–¥–∞–ª–∏—Ç—å

### 4. –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–µ—Ç–æ–¥—ã –≤ MainForm.cs

#### ‚ö†Ô∏è `ClearReaderHeaders()` (—Å—Ç—Ä–æ–∫–∞ 1302)
```csharp
private void ClearReaderHeaders()
```
**–°—Ç–∞—Ç—É—Å:** –ú–µ—Ç–æ–¥ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω, –Ω–æ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –£–¥–∞–ª–∏—Ç—å –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –æ—á–∏—Å—Ç–∫–∏

#### ‚ö†Ô∏è `ShowStatus()` (—Å—Ç—Ä–æ–∫–∞ 1416)
```csharp
private void ShowStatus(string text)
```
**–°—Ç–∞—Ç—É—Å:** –ú–µ—Ç–æ–¥ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω, –Ω–æ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –£–¥–∞–ª–∏—Ç—å –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

#### ‚ö†Ô∏è `DebugProbeAllReaders()` (—Å—Ç—Ä–æ–∫–∞ 1074)
```csharp
private async Task DebugProbeAllReaders()
```
**–°—Ç–∞—Ç—É—Å:** –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥, –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å

### 5. –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

#### ‚ùå `ReaderUidField` (App.config —Å—Ç—Ä–æ–∫–∞ 34)
```xml
<add key="ReaderUidField" value="30" />
```
**–°—Ç–∞—Ç—É—Å:** –û–ø—Ä–µ–¥–µ–ª–µ–Ω, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –£–¥–∞–ª–∏—Ç—å –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞

#### ‚ùå `BookStatusTag` (App.config —Å—Ç—Ä–æ–∫–∞ 37)
```xml
<add key="BookStatusTag" value="910" />
```
**–°—Ç–∞—Ç—É—Å:** –û–ø—Ä–µ–¥–µ–ª–µ–Ω, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (—Ö–∞—Ä–¥–∫–æ–¥ "910" –≤ –∫–æ–¥–µ)  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –£–¥–∞–ª–∏—Ç—å –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–¥–µ

#### ‚ùå `BookStatusCode` (App.config —Å—Ç—Ä–æ–∫–∞ 38)
```xml
<add key="BookStatusCode" value="a" />
```
**–°—Ç–∞—Ç—É—Å:** –û–ø—Ä–µ–¥–µ–ª–µ–Ω, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (—Ö–∞—Ä–¥–∫–æ–¥ 'a' –≤ –∫–æ–¥–µ)  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –£–¥–∞–ª–∏—Ç—å –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–¥–µ

#### ‚ùå `BookRfidCode` (App.config —Å—Ç—Ä–æ–∫–∞ 39)
```xml
<add key="BookRfidCode" value="h" />
```
**–°—Ç–∞—Ç—É—Å:** –û–ø—Ä–µ–¥–µ–ª–µ–Ω, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (—Ö–∞—Ä–¥–∫–æ–¥ 'h' –≤ –∫–æ–¥–µ)  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –£–¥–∞–ª–∏—Ç—å –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–¥–µ

#### ‚ùå `UseSubfieldR_ReturnPlace` (App.config —Å—Ç—Ä–æ–∫–∞ 21)
```xml
<add key="UseSubfieldR_ReturnPlace" value="true" />
```
**–°—Ç–∞—Ç—É—Å:** –û–ø—Ä–µ–¥–µ–ª–µ–Ω, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –£–¥–∞–ª–∏—Ç—å –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–¥–µ

#### ‚ö†Ô∏è `ExprReaderByTicket` / `ExprReaderByTicketList` (App.config)
```xml
<!-- –ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ –∫–æ–Ω—Ñ–∏–≥–µ, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ ValidateReaderByTicketNumber -->
```
**–°—Ç–∞—Ç—É—Å:** –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–º –º–µ—Ç–æ–¥–µ  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –£–¥–∞–ª–∏—Ç—å –≤–º–µ—Å—Ç–µ —Å –º–µ—Ç–æ–¥–æ–º

#### ‚ö†Ô∏è `IqrfidInitCmd` / `IqrfidInitDelayBeforeMs` / `IqrfidInitDelayAfterMs`
**–°—Ç–∞—Ç—É—Å:** –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ `CardReaderSerial.OnOpened()`, –Ω–æ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ –Ω—É–∂–Ω—ã  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å

---

## ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

#### `NormalizeUid()` –≤ MainForm.cs (—Å—Ç—Ä–æ–∫–∞ 684)
```csharp
private string NormalizeUid(string uid)
```

#### `NormalizeId()` –≤ IrbisServiceManaged.cs (—Å—Ç—Ä–æ–∫–∞ 110)
```csharp
private static string NormalizeId(string s)
```

#### `IrbisServiceManaged_Normalize()` –≤ MainForm.cs (—Å—Ç—Ä–æ–∫–∞ 1196)
```csharp
private static string IrbisServiceManaged_Normalize(string s)
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –¢—Ä–∏ —Ä–∞–∑–Ω—ã—Ö –º–µ—Ç–æ–¥–∞ –¥–µ–ª–∞—é—Ç –ø–æ—Ö–æ–∂—É—é –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –≤ –æ–¥–∏–Ω –º–µ—Ç–æ–¥

### 2. –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π alias

#### `Screen_ScanTake` (—Å—Ç—Ä–æ–∫–∞ 222)
```csharp
private Screen Screen_ScanTake { get { return Screen.S3_WaitBookTake; } }
```
**–°—Ç–∞—Ç—É—Å:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ 2 –º–µ—Å—Ç–∞—Ö, –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –ø—Ä—è–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –£–¥–∞–ª–∏—Ç—å alias, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Screen.S3_WaitBookTake` –Ω–∞–ø—Ä—è–º—É—é

### 3. –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ using –¥–∏—Ä–µ–∫—Ç–∏–≤—ã

#### ‚úÖ `PCSC.Exceptions` –≤ MainForm.cs (—Å—Ç—Ä–æ–∫–∞ 18)
**–°—Ç–∞—Ç—É—Å:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (`PCSCException` –≤ –º–µ—Ç–æ–¥–µ `DebugProbeAllReaders`, —Å—Ç—Ä–æ–∫–∞ 1125)  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û—Å—Ç–∞–≤–∏—Ç—å

#### ‚úÖ `PCSC.Iso7816` –≤ MainForm.cs (—Å—Ç—Ä–æ–∫–∞ 19)
**–°—Ç–∞—Ç—É—Å:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (`CommandApdu`, `IsoCase` –≤ –º–µ—Ç–æ–¥–µ `DebugProbeAllReaders`, —Å—Ç—Ä–æ–∫–∞ 1101)  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û—Å—Ç–∞–≤–∏—Ç—å

#### ‚úÖ `System.Diagnostics` –≤ MainForm.cs (—Å—Ç—Ä–æ–∫–∞ 3)
**–°—Ç–∞—Ç—É—Å:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (`Debug.WriteLine`, `Trace.WriteLine`)  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û—Å—Ç–∞–≤–∏—Ç—å

**–í—ã–≤–æ–¥:** –í—Å–µ using –¥–∏—Ä–µ–∫—Ç–∏–≤—ã –≤ MainForm.cs –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ñ–∞–π–ª–∞–º

| –§–∞–π–ª | –°—Ç—Ä–æ–∫ | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | –ü—Ä–æ–±–ª–µ–º—ã |
|------|-------|--------------|----------|
| MainForm.cs | ~1450 | ‚úÖ –î–∞ | –ë–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä, –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ |
| IrbisServiceManaged.cs | 662 | ‚úÖ –î–∞ | –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–µ—Ç–æ–¥—ã |
| SerialWorker.cs | 314 | ‚úÖ –î–∞ | –•–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω |
| Devices.cs | 355 | ‚úÖ –î–∞ | –•–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω |
| Rru9816Reader.cs | 252 | ‚úÖ –î–∞ | –•–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω |
| Acr1281PcscReader.cs | 234 | ‚úÖ –î–∞ | –•–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω |
| EpcParser.cs | 86 | ‚úÖ –î–∞ | –•–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω |
| PortResolver.cs | 119 | ‚úÖ –î–∞ | –•–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω |
| ArduinoSerial.cs | 48 | ‚ùå –ù–µ—Ç | –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ArduinoClientSerial) |
| ArduinoNull.cs | 21 | ‚ùå –ù–µ—Ç | –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ArduinoClientSerial) |
| IArduino.cs | 15 | ‚úÖ –î–∞ | –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å |
| Program.cs | 66 | ‚úÖ –î–∞ | –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ |
| SerialWorkerExtensions.cs | 10 | ‚úÖ –î–∞ | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è |
| MainForm.Designer.cs | 268 | ‚úÖ –î–∞ | UI –¥–∏–∑–∞–π–Ω–µ—Ä |

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ—á–∏—Å—Ç–∫–µ

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–±–µ–∑–æ–ø–∞—Å–Ω–æ —É–¥–∞–ª–∏—Ç—å):

1. ‚úÖ **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ MainForm:**
   - `_currentBookMfn`
   - `_currentBookBrief`
   - `_currentBookInv`
   - `USE_EMULATOR`
   - `_lastRruEpc` (–µ—Å–ª–∏ –Ω–µ –Ω—É–∂–µ–Ω –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)

2. ‚úÖ **–ú–µ—Ç–æ–¥—ã –≤ IrbisServiceManaged:**
   - `ValidateReaderByTicketNumber()` (–µ—Å–ª–∏ –Ω–µ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å)
   - `FindOneByInvOrTag()` (–µ—Å–ª–∏ –Ω–µ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å)

3. ‚úÖ **–°–≤–æ–π—Å—Ç–≤–∞ Logger:**
   - `Logger.Dir`
   - `Logger.PathFor()`

4. ‚úÖ **–ú–µ—Ç–æ–¥—ã –≤ MainForm:**
   - `ClearReaderHeaders()` (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
   - `ShowStatus()` (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

5. ‚úÖ **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
   - `ReaderUidField`
   - `BookStatusTag`
   - `BookStatusCode`
   - `BookRfidCode`
   - `UseSubfieldR_ReturnPlace`

6. ‚úÖ **Alias:**
   - `Screen_ScanTake` (–∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –ø—Ä—è–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:

7. ‚ö†Ô∏è `ArduinoSerial.cs` - —É–¥–∞–ª–∏—Ç—å (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `ArduinoClientSerial`)
8. ‚ö†Ô∏è `ArduinoNull.cs` - —É–¥–∞–ª–∏—Ç—å (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `ArduinoClientSerial`)
9. ‚ö†Ô∏è `DebugProbeAllReaders()` - –æ—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å
10. ‚ö†Ô∏è `TestConnection()` - –æ—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å
11. ‚ö†Ô∏è `OpenBin()` –∏ `HasSpace()` - –Ω–µ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ `IArduino`, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ `ArduinoClientSerial`

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥):

12. –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏
13. –í—ã–Ω–µ—Å—Ç–∏ –º–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã/–∫–æ–Ω—Ñ–∏–≥

---

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Ö–æ–¥–∫–∏

### –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞:
1. ‚úÖ **NudgeLines()** - –±—ã–ª–æ –≤ `RruOpenHelper.cs` –∏ `Rru9816Reader.cs` ‚Üí –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
2. ‚úÖ **WriteLineSafe()** - –±—ã–ª–æ –≤ `SerialHelpers.cs` –∏ `SerialWorkerExtensions.cs` ‚Üí –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
3. ‚ö†Ô∏è **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è** - —Ç—Ä–∏ —Ä–∞–∑–Ω—ã—Ö –º–µ—Ç–æ–¥–∞ –¥–µ–ª–∞—é—Ç –ø–æ—Ö–æ–∂–µ–µ

### –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥–∞ –≤–º–µ—Å—Ç–æ —Ö–∞—Ä–¥–∫–æ–¥–∞ ("910", 'a', 'h')
2. –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏
3. –í—ã–Ω–µ—Å—Ç–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞

### –£–∂–µ —É–¥–∞–ª–µ–Ω–æ:
- ‚úÖ `Result.cs`
- ‚úÖ `SerialHelpers.cs`
- ‚úÖ `RruOpenHelper.cs`
- ‚úÖ `McCompatExtensions.cs`
- ‚úÖ 8 –º–µ—Ç–æ–¥–æ–≤ –∏–∑ MainForm.cs

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É–¥–∞–ª–∏—Ç—å:
- ‚ùå 5 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–∑ MainForm.cs
- ‚ùå 2 –º–µ—Ç–æ–¥–∞ –∏–∑ IrbisServiceManaged.cs
- ‚ùå 2 —Å–≤–æ–π—Å—Ç–≤–∞ –∏–∑ Logger
- ‚ùå 2 –º–µ—Ç–æ–¥–∞ –∏–∑ MainForm.cs
- ‚ùå 5 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–∑ App.config
- ‚ùå 1 alias –∏–∑ MainForm.cs

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ:
- ‚ö†Ô∏è `ArduinoSerial.cs`
- ‚ö†Ô∏è `ArduinoNull.cs`
- ‚ö†Ô∏è –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã

**–û–±—â–∏–π –æ–±—ä–µ–º –∫ —É–¥–∞–ª–µ–Ω–∏—é:** ~100-150 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ + –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥–∞

